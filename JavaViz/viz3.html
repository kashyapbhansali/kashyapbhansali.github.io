<html>
<head>
	<title>Visualization 3</title>
    <script src="jquery-1.12.0.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script type="text/javascript" src="bootstrap-3.3.6-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" type="text/css" href="bootstrap-3.3.6-dist/css/bootstrap.css">
	<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-8"> 
	<script type="text/javascript" src="hc/js/highcharts.js"></script>
	<!-- <script src="https://code.highcharts.com/highcharts.js"></script> -->
	<script type="text/javascript" src="./opsbats.js"></script>
    <style type="text/css">
    body {
        padding-top: 70px;
    }


    </style>

</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-left">
      <div class="container">
        <ul class="nav navbar-nav">
        <li ><a href="index.html">Home <span class="sr-only">(current)</span></a></li>
        <li><a href="viz1.html">Visualization 1</a></li>
        <li><a href="viz2.html">Visualization 2</a></li>
        <li class="active"><a href="viz3.html">Visualization 3</a></li>
      </ul>
      </div>
    </nav>
	<div class="row">

		<div class="col-md-1"></div>

		<div class="col-md-10">
			<h1>Total pages related to particular topics visited by the Users</h1>
		</div>

		<div class="col-md-1"></div>
			
	</div>
	<div class="row">
		<div class="col-md-1"></div>
		<div class="col-md-10" id="container" style="min-width: 500px; height: 800px; margin: 0 auto"></div>
		<div class="col-md-1"></div>

	</div>

	<div class="row">
		<div class="col-md-1"></div>
		<div class="col-md-10">
			<h4>Following Things can be interpreted from the above Visualization:</h4>
			<ol>
				<li>The stacked bar graph represents the total page visits of all the users. The Bar graph is represented in different colors which denote the page vsited related to different topics of Java.</li>
				<li>The X-axis displays each user and the Y-axis displays the number of page views and the Colors denote the Page was related to a particular topic like Strings, Sorting, Arrays, Class and Loops.</li>
				<!-- <li>This graph demonstrates a Trend of how the users Queries change overtime.</li> -->
				<li><span style="color:red;"><b>Click on the legend or topics like String, Sorting, Arrays, Class and Loops for interacting with the graph!</b></span></li>
				<li>The data for this graph was generated by extracting and processing data from class_operation.csv file</li>
				<li><b>Pattern Findings:</b></li>
				<ol>
					<li>The above visualization helps us to know how many pages on an average a user visited for searching answers to their query. This in a way demonstrates the amount of effort put by the user to find the solution.</li>
					<li>We also get an idea of which user visited a page related to a particuar topic or a set of pages related to different topics. </li>
					<li>The colorful stacked bar chart and the available option for interacting with the graph makes it more intuitive and easier to understand and get specific details.</li>
					<li>For example, if we want to just look at details for pages related to "Loops", then we disbale all the other opttions in the graph by clicking on them and we get bars only for the "Loops" parameter.</li>
				</ol>
			</ol>


		</div>
		<div class="col-md-1"></div>

	</div>
	

</body>

<script type="text/javascript">

ops.sort(function(a, b) {
		    //return parseFloat(a.u_id) - parseFloat(b.u_id);
		    return a.u_id.localeCompare(b.u_id);
		});


//document.write(JSON.stringify(ops));

var users_array = [];
var string_array = [];
var sort_array = [];
var loop_array = [];
var class_array = [];
var array_array = [];

for(var i =0; i< ops.length; i++)
{
	users_array.push(ops[i].u_id);
	string_array.push(ops[i].string);
	sort_array.push(ops[i].sort);
	array_array.push(ops[i].array);
	loop_array.push(ops[i].loop);
	class_array.push(ops[i].class);
}

//document.write(users_array);


//document.write(class_array);


$(function () {
    $('#container').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Click on the legend on the top right for interaction -->'
        },
        xAxis: {
            categories: users_array
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Total Page Visits'
            },
            stackLabels: {
                enabled: true,
                style: {
                    fontWeight: 'bold',
                    color: (Highcharts.theme && Highcharts.theme.textColor) || 'dark-unica'
                }
            }
        },
        legend: {
            align: 'right',
            x: -30,
            verticalAlign: 'top',
            y: 25,
            floating: true,
            backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
            borderColor: '#CCC',
            borderWidth: 1,
            shadow: false
        },
        tooltip: {
            headerFormat: '<b>{point.x}</b><br/>',
            pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
        },
        plotOptions: {
            column: {
                stacking: 'normal',
                dataLabels: {
                    enabled: true,
                    color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
                    style: {
                        textShadow: '0 0 3px black'
                    }
                }
            }
        },
        series: [{
            name: 'String',
            data: string_array
        }, {
            name: 'Sorting',
            data: sort_array
        }, {
            name: 'Loops',
            data: loop_array
        }, {
            name: 'Class',
            data: class_array
        }, {
            name: 'Array',
            data: array_array
        }

        ]
    });
});


</script>

</html>
